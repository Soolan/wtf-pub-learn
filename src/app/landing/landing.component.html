<div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="space-around start" class="landing">
  <div fxFlex.gt-lg="65" fxFlex="80" fxFlex.lt-md="100" fxLayout="row wrap" fxLayoutAlign="space-between center"
       class="hero">

    <div fxFlex="35" fxFlex.lt-md="100" fxLayout="row wrap" fxLayoutAlign="space-around center">
      <div fxFlex="95" class="heading" ngClass.xl="mat-display-4" ngClass.lg="mat-display-3" ngClass.md="mat-display-2"
           ngClass.sm="mat-display-1" ngClass.xs="mat-headline"
           appBlackRenderer [content]="landing.heading.content" [keyword]="landing.heading.keyword">
      </div>
      <div fxFlex="95" class="subheading" ngClass.gt-md="mat-display-1" ngClass.md="mat-headline"
           ngClass.lt-md="mat-title">
        {{landing.subheading}}
      </div>
      <div fxFlex="95" class="mat-caption caption"> PLAY ⏺ LEARN ⏺ EARN</div>
    </div>
    <div fxFlex="60" fxFlex.lt-md="100" class="banner"></div>
  </div>
  <div fxFlex="100" class="description">
    <span class="mat-caption" *ngFor="let phrase of landing.description"
          appBlackRenderer [content]="phrase.content" [keyword]="phrase.keyword"></span>
  </div>
  <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="space-around start" class="bullets">
    <div *ngFor="let bullet of landing.bullets" fxFlex="20" fxFlex.lt-sm="90" class="bullet">
      <div class="icon" [ngStyle]="{'background-image': 'url(assets/images/' + bullet.icon + ')'}"></div>
      <div class="mat-caption text">{{bullet.description}}</div>
    </div>
  </div>
  <div fxFlex.gt-lg="60" fxFlex="80" fxFlex.lt-md="100" fxLayout="row wrap" fxLayoutAlign="space-between start"
       class="courses">
    <div fxFlex="72" fxFlex.lt-lg="100" fxLayout="row wrap" fxLayoutAlign="space-between center"
         *ngIf="course; else loading" class="latest">
      <div fxFlex="49" fxFlex.lt-md="100" class="image"
           [ngStyle]="{'background-image': 'url(' + (course.banner | storageUrl | async) + ')'}"></div>
      <div fxFlex="49" fxFlex.lt-md="100" class="text" fxLayout="row wrap" fxLayoutAlign="space-around center">
        <div fxFlex="100" class="mat-title course-title" appBlackRenderer [content]="course.name"
             [keyword]="course.tags[0]"></div>
        <markdown emoji ngPreserveWhitespaces fxFlex="100" [data]="course.description"></markdown>
      </div>

      <div fxFlex="75" fxFlex.lt-md="100" class="extra mat-caption">
        <span class="label">level:</span><span class="level">{{levels[course.level]}}</span>
        <span class="label">keywords:</span><span class="tag" *ngFor="let tag of course.tags">{{tag}}</span>
      </div>
      <div fxFlex="25" fxFlex.lt-md="100" class="action">
        <button color="primary" mat-stroked-button (click)="gen()">
          gen
        </button>
        <button color="primary" mat-raised-button [routerLink]="['courses', course.id]">
          Start Here
        </button>
      </div>
    </div>
    <ng-template #loading>
      <mat-spinner></mat-spinner>
    </ng-template>
    <div fxFlex="25" fxFlex.lt-lg="100" fxLayout="row wrap" fxLayoutAlign="space-between start">
      <div fxFlex="100" *ngFor="let event of stream" class="stream mat-caption">
        <span class="who">{{event.who}}</span>
        <span class="act">{{events[event.type].label}}</span>
        <mat-icon>{{events[event.type].icon}}</mat-icon>
        <span class="when">{{event.when | date: 's'}} ago</span>
      </div>
    </div>
  </div>
</div>
